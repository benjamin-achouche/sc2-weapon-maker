(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[5],{57:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return d})),a.d(t,"e",(function(){return p}));var n=a(28),i="REQUIRE",r="MINLENGTH",c="MAXLENGTH",s="EMAIL",l=function(){return{type:i}},u=function(e){return{type:r,val:e}},o=function(e){return{type:c,val:e}},d=function(){return{type:s}},p=function(e,t){var a,l=!0,u=Object(n.a)(t);try{for(u.s();!(a=u.n()).done;){var o=a.value;o.type===i&&(l=l&&e.trim().length>0),o.type===r&&(l=l&&e.trim().length>=o.val),o.type===c&&(l=l&&e.trim().length<=o.val),"MIN"===o.type&&(l=l&&+e>=o.val),"MAX"===o.type&&(l=l&&+e<=o.val),o.type===s&&(l=l&&/^\S+@\S+\.\S+$/.test(e))}}catch(d){u.e(d)}finally{u.f()}return l}},58:function(e,t,a){"use strict";a(1),a(59);var n=a(0);t.a=function(e){return Object(n.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}},59:function(e,t,a){},60:function(e,t,a){"use strict";var n=a(5),i=a(25),r=a(1),c=a(57),s=(a(61),a(0)),l=function(e,t){switch(t.type){case"CHANGE":return Object(i.a)(Object(i.a)({},e),{},{value:t.val,isValid:Object(c.e)(t.val,t.validators)});case"TOUCH":return Object(i.a)(Object(i.a)({},e),{},{isTouched:!0});default:return e}};t.a=function(e){var t=Object(r.useReducer)(l,{value:e.initialValue||"",isTouched:e.initialTouch||!1,isValid:e.initialValid||!1}),a=Object(n.a)(t,2),i=a[0],c=a[1],u=e.id,o=e.onInput,d=i.value,p=i.isValid;Object(r.useEffect)((function(){o(u,d,p)}),[u,d,p,o]);var j=function(t){c({type:"CHANGE",val:t.target.value,validators:e.validators})},b=function(){c({type:"TOUCH"})},O="input"===e.element?Object(s.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:j,onBlur:b,value:e.value||i.value}):Object(s.jsx)("textarea",{id:e.id,rows:e.rows||3,placeholder:e.placeholder,onChange:j,onBlur:b,value:i.value,style:{resize:"none"}});return Object(s.jsxs)("div",{className:"form-control ".concat(!i.isValid&&i.isTouched&&"form-control--invalid"),children:[Object(s.jsx)("label",{htmlFor:e.id,children:e.label}),O,!i.isValid&&i.isTouched&&Object(s.jsx)("p",{children:e.errorText})]})}},61:function(e,t,a){},62:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(5),i=a(27),r=a(25),c=a(1),s=function(e,t){switch(t.type){case"INPUT_CHANGE":var a=!0;for(var n in e.inputs)e.inputs[n]&&(a=n===t.inputId?a&&t.isValid:a&&e.inputs[n].isValid);return Object(r.a)(Object(r.a)({},e),{},{inputs:Object(r.a)(Object(r.a)({},e.inputs),{},Object(i.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:a});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},l=function(e,t){var a=Object(c.useReducer)(s,{inputs:e,isValid:t}),i=Object(n.a)(a,2),r=i[0],l=i[1];return[r,Object(c.useCallback)((function(e,t,a){l({type:"INPUT_CHANGE",inputId:e,value:t,isValid:a})}),[]),Object(c.useCallback)((function(e,t){l({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]}},87:function(e,t,a){},88:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(11),i=a.n(n),r=a(13),c=a(25),s=a(5),l=a(1),u=a.n(l),o=a(58),d=a(60),p=a(15),j=a(26),b=a(16),O=(a(87),a(0)),v=function(e){var t=Object(l.useState)(),a=Object(s.a)(t,2),n=a[0],i=a[1],r=Object(l.useState)(),c=Object(s.a)(r,2),u=c[0],o=c[1],d=Object(l.useState)(!1),j=Object(s.a)(d,2),b=j[0],v=j[1],f=Object(l.useRef)();Object(l.useEffect)((function(){if(n){var e=new FileReader;e.onload=function(){o(e.result)},e.readAsDataURL(n)}}),[n]);return Object(O.jsxs)("div",{className:"form-control",children:[Object(O.jsx)("input",{id:e.id,ref:f,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(t){var a,n=b;if(t.target.files&&1===t.target.files.length)a=t.target.files[0],i(a),v(!0),n=!0;else{if(n)return;v(!1),n=!1}e.onInput(e.id,a,n)}}),Object(O.jsxs)("div",{className:"image-upload ".concat(e.center&&"center"),children:[Object(O.jsxs)("div",{className:"image-upload__preview",children:[u&&Object(O.jsx)("img",{src:u,alt:"Preview"}),!u&&Object(O.jsx)("p",{children:"Please pick an image."})]}),Object(O.jsx)(p.a,{type:"button",onClick:function(){f.current.click()},children:"PICK IMAGE"})]}),!b&&Object(O.jsx)("p",{children:e.errorText})]})},f=a(57),m=a(62),h=a(17),x=a(14);a(88),t.default=function(){var e=Object(l.useContext)(x.a),t=Object(l.useState)(!0),a=Object(s.a)(t,2),n=a[0],y=a[1],g=Object(h.a)(),I=g.isLoading,T=g.error,w=g.sendRequest,V=g.clearError,N=Object(m.a)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),k=Object(s.a)(N,3),C=k[0],E=k[1],S=k[2],A=function(){var t=Object(r.a)(i.a.mark((function t(a){var r,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!n){t.next=14;break}return t.prev=2,t.next=5,w("".concat("https://sc2-weapon-maker.herokuapp.com/api","/users/login"),"POST",JSON.stringify({email:C.inputs.email.value,password:C.inputs.password.value}),{"Content-Type":"application/json"});case 5:r=t.sent,console.log("HELLO"),e.login(r.userId,r.token),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(2);case 12:t.next=28;break;case 14:return t.prev=14,(c=new FormData).append("name",C.inputs.name.value),c.append("email",C.inputs.email.value),c.append("password",C.inputs.password.value),c.append("image",C.inputs.image.value),t.next=22,w("".concat("https://sc2-weapon-maker.herokuapp.com/api","/users/signup"),"POST",c);case 22:s=t.sent,e.login(s.userId,s.token),t.next=28;break;case 26:t.prev=26,t.t1=t.catch(14);case 28:case"end":return t.stop()}}),t,null,[[2,10],[14,26]])})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)(u.a.Fragment,{children:[Object(O.jsx)(j.a,{error:T,onClear:V}),Object(O.jsxs)(o.a,{className:"authentication",children:[I&&Object(O.jsx)(b.a,{asClearOverlay:!0}),Object(O.jsx)("h2",{children:"Login Required"}),Object(O.jsx)("hr",{}),Object(O.jsxs)("form",{onSubmit:A,children:[!n&&Object(O.jsx)(d.a,{element:"input",id:"name",type:"text",label:"Your Name",validators:[Object(f.d)(),Object(f.b)(10)],errorText:"Please enter a name, at most 10 characters long.",onInput:E}),!n&&Object(O.jsx)(v,{center:!0,id:"image",onInput:E}),Object(O.jsx)(d.a,{id:"email",type:"email",element:"input",label:"E-Mail",validators:[Object(f.a)()],errorText:"Please enter a valid email address.",onInput:E}),Object(O.jsx)(d.a,{id:"password",type:"password",element:"input",label:"Password",validators:[Object(f.c)(6)],errorText:"Please enter a valid password, at least 6 characters.",onInput:E}),Object(O.jsx)(p.a,{type:"submit",disabled:!C.isValid,children:n?"LOGIN":"SIGNUP"})]}),Object(O.jsxs)(p.a,{inverse:!0,onClick:function(){n?S(Object(c.a)(Object(c.a)({},C.inputs),{},{name:{value:"",isValid:!1},image:{value:null,isValid:!1}}),!1):S(Object(c.a)(Object(c.a)({},C.inputs),{},{name:void 0,image:void 0}),C.inputs.email.isValid&&C.inputs.password.isValid),y((function(e){return!e}))},children:["SWITCH TO ",n?"SIGNUP":"LOGIN"]})]})]})}}}]);
//# sourceMappingURL=5.b9180188.chunk.js.map