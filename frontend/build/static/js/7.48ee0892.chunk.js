(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[7],{58:function(e,t,n){"use strict";n(1),n(59);var a=n(0);t.a=function(e){return Object(a.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}},59:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){},86:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(11),c=n.n(a),r=n(13),s=n(5),o=n(1),i=n.n(o),d=n(2),u=n(15),j=n(58),l=n(18),p=n(26),h=n(16),b=n(14),O=n(17),f=(n(65),n(0)),x=function(e){var t=Object(o.useContext)(b.a),n=Object(O.a)(),a=n.isLoading,d=n.error,x=n.sendRequest,m=n.clearError,w=Object(o.useState)(!1),v=Object(s.a)(w,2),k=v[0],g=v[1],E=function(){g(!1)},I=function(){var n=Object(r.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return g(!1),n.prev=1,n.next=4,x("".concat("https://sc2-weapon-maker.herokuapp.com/api","/weapons/").concat(e.id),"DELETE",null,{Authorization:"Bearer "+t.token});case 4:e.onDelete(e.id),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(1);case 9:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(){return n.apply(this,arguments)}}();return Object(f.jsxs)(i.a.Fragment,{children:[Object(f.jsx)(p.a,{error:d,onClear:m}),Object(f.jsx)(l.a,{show:k,onCancel:E,header:"Are you sure?",footerClass:"weapon-item__modal-actions",footer:Object(f.jsxs)(i.a.Fragment,{children:[Object(f.jsx)(u.a,{inverse:!0,onClick:E,children:"CANCEL"}),Object(f.jsx)(u.a,{danger:!0,onClick:I,children:"DELETE"})]}),children:Object(f.jsx)("p",{children:"Do you want to proceed and delete this weapon? Please note that it can't be undone thereafter."})}),Object(f.jsx)("li",{className:"weapon-item",children:Object(f.jsxs)(j.a,{style:{padding:0,width:"40rem"},children:[a&&Object(f.jsx)(h.a,{asClearOverlay:!0}),Object(f.jsx)("div",{className:"weapon-item__image",children:Object(f.jsx)("img",{src:e.image,alt:e.name})}),Object(f.jsxs)("div",{className:"weapon-item__info",children:[Object(f.jsx)("h2",{children:e.name}),Object(f.jsx)("p",{children:e.description})]}),Object(f.jsxs)("div",{className:"weapon-item__actions",children:[Object(f.jsx)(u.a,{inverse:!0,to:"/".concat(e.creatorId,"/weapons/view/").concat(e.id),children:"VIEW ATTRIBUTES"}),Object(f.jsx)(u.a,{inverse:!0,href:"".concat("https://sc2-weapon-maker.herokuapp.com/api","/weapons/download/").concat(e.creatorId),children:"DOWNLOAD"}),t.userId===e.creatorId&&Object(f.jsx)(u.a,{to:"/".concat(e.creatorId,"/weapons/").concat(e.id),children:"EDIT"}),t.userId===e.creatorId&&Object(f.jsx)(u.a,{danger:!0,onClick:function(){g(!0)},children:"DELETE"})]})]})})]})},m=(n(86),function(e){return Object(f.jsx)("ul",{className:"weapons-list",children:e.items.map((function(t){return Object(f.jsx)(x,{id:t.id,image:t.imageUrl,name:t.name,description:t.description,address:t.address,creatorId:t.creator,coordinates:t.location,onDelete:e.onDeleteWeapon},t.id)}))})});n(63),t.default=function(){var e=Object(o.useContext)(b.a),t=Object(O.a)(),n=t.isLoading,a=t.error,l=t.sendRequest,x=t.clearError,w=Object(o.useState)([""]),v=Object(s.a)(w,2),k=v[0],g=v[1],E=Object(o.useState)(),I=Object(s.a)(E,2),N=I[0],y=I[1],C=Object(d.h)().userId;e.setTheUrlUserId(C),Object(o.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l("".concat("https://sc2-weapon-maker.herokuapp.com/api","/users"));case 3:t=e.sent,y(t.users.find((function(e){return e.id===C}))),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()(),function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l("".concat("https://sc2-weapon-maker.herokuapp.com/api","/weapons/user/").concat(C));case 3:t=e.sent,g(t.userWeapons),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[l,C]);var D;return"string"!==typeof k[0]&&(D=k.length>0?Object(f.jsx)(m,{items:k,onDeleteWeapon:function(e){g((function(t){return t.filter((function(t){return t.id!==e}))}))},userId:C}):C===e.userId?Object(f.jsx)("div",{className:"weapons-list center",children:Object(f.jsxs)(j.a,{children:[Object(f.jsx)("h2",{children:"No weapons found. Maybe create one ?"}),Object(f.jsx)(u.a,{to:"/weapons/new",children:"Create New Weapon"})]})}):Object(f.jsx)("div",{className:"center",children:Object(f.jsx)(j.a,{children:Object(f.jsx)("h2",{children:"This user didn't create any weapon yet."})})})),Object(f.jsxs)(i.a.Fragment,{children:[!N&&Object(f.jsx)(p.a,{error:a,onClear:x}),n&&Object(f.jsx)("div",{className:"center",children:Object(f.jsx)(h.a,{asDarkOverlay:!0,big:!0})}),Object(f.jsx)(u.a,{to:"/",className:"new-weapon__create-btn",children:"Back"}),D]})}}}]);
//# sourceMappingURL=7.48ee0892.chunk.js.map