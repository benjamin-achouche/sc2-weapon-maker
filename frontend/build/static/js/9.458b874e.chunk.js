(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[9],{57:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"e",(function(){return d}));var n=a(28),i="REQUIRE",r="MINLENGTH",c="MAXLENGTH",s="EMAIL",l=function(){return{type:i}},o=function(e){return{type:r,val:e}},u=function(e){return{type:c,val:e}},p=function(){return{type:s}},d=function(e,t){var a,l=!0,o=Object(n.a)(t);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.type===i&&(l=l&&e.trim().length>0),u.type===r&&(l=l&&e.trim().length>=u.val),u.type===c&&(l=l&&e.trim().length<=u.val),"MIN"===u.type&&(l=l&&+e>=u.val),"MAX"===u.type&&(l=l&&+e<=u.val),u.type===s&&(l=l&&/^\S+@\S+\.\S+$/.test(e))}}catch(p){o.e(p)}finally{o.f()}return l}},60:function(e,t,a){"use strict";var n=a(5),i=a(25),r=a(1),c=a(57),s=(a(61),a(0)),l=function(e,t){switch(t.type){case"CHANGE":return Object(i.a)(Object(i.a)({},e),{},{value:t.val,isValid:Object(c.e)(t.val,t.validators)});case"TOUCH":return Object(i.a)(Object(i.a)({},e),{},{isTouched:!0});default:return e}};t.a=function(e){var t=Object(r.useReducer)(l,{value:e.initialValue||"",isTouched:e.initialTouch||!1,isValid:e.initialValid||!1}),a=Object(n.a)(t,2),i=a[0],c=a[1],o=e.id,u=e.onInput,p=i.value,d=i.isValid;Object(r.useEffect)((function(){u(o,p,d)}),[o,p,d,u]);var b=function(t){c({type:"CHANGE",val:t.target.value,validators:e.validators})},j=function(){c({type:"TOUCH"})},f="input"===e.element?Object(s.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:b,onBlur:j,value:e.value||i.value}):Object(s.jsx)("textarea",{id:e.id,rows:e.rows||3,placeholder:e.placeholder,onChange:b,onBlur:j,value:i.value,style:{resize:"none"}});return Object(s.jsxs)("div",{className:"form-control ".concat(!i.isValid&&i.isTouched&&"form-control--invalid"),children:[Object(s.jsx)("label",{htmlFor:e.id,children:e.label}),f,!i.isValid&&i.isTouched&&Object(s.jsx)("p",{children:e.errorText})]})}},61:function(e,t,a){},62:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(5),i=a(27),r=a(25),c=a(1),s=function(e,t){switch(t.type){case"INPUT_CHANGE":var a=!0;for(var n in e.inputs)e.inputs[n]&&(a=n===t.inputId?a&&t.isValid:a&&e.inputs[n].isValid);return Object(r.a)(Object(r.a)({},e),{},{inputs:Object(r.a)(Object(r.a)({},e.inputs),{},Object(i.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:a});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},l=function(e,t){var a=Object(c.useReducer)(s,{inputs:e,isValid:t}),i=Object(n.a)(a,2),r=i[0],l=i[1];return[r,Object(c.useCallback)((function(e,t,a){l({type:"INPUT_CHANGE",inputId:e,value:t,isValid:a})}),[]),Object(c.useCallback)((function(e,t){l({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]}},91:function(e,t,a){"use strict";a.r(t);var n=a(11),i=a.n(n),r=a(25),c=a(13),s=a(5),l=a(1),o=a.n(l),u=a(2),p=a(15),d=a(60),b=a(26),j=a(16),f=a(57),v=a(18),O=a(67),m=a(64),h=a(62),C=a(66),y=a(17),x=a(14),w=(a(63),a(0));t.default=function(){var e=Object(l.useContext)(x.a),t=Object(y.a)(),a=t.isLoading,n=t.error,V=t.sendRequest,k=t.clearError,S=Object(l.useState)(""),T=Object(s.a)(S,2),g=T[0],N=T[1],A=Object(u.h)().weaponId,E=Object(u.g)(),I=Object(h.a)({name:{value:"",isValid:!1},description:{value:"",isValid:!1}},!1),H=Object(s.a)(I,3),P=H[0],_=H[1],D=H[2],G=Object(l.useState)(!1),L=Object(s.a)(G,2),M=L[0],U=L[1],R=Object(C.a)({attack:4,defense:4,speed:3,selfGuardPiercing:7,enemyGuardPiercing:1,reach:2,counters:2,enemyDamageReflection:1,lifeContinuous:4,lifeHit:4,lifeVampire:1,lessHealthMoreAttack:1,lessHealthMoreDefense:1,lessHealthMoreSpeed:1,lessHealthMoreLifeCont:1,lessHealthSCLvUp:1,SCAttack:1,SCDefense:1,SCSpeed:3,SCEnemyGuardPiercing:1,SCLifeContinuous:3,SCChargeSpeed:3,SCType:2},100),B=Object(s.a)(R,3),F=B[0],J=B[1],z=B[2];Object(l.useEffect)((function(){(function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V("".concat("https://sc2-weapon-maker.herokuapp.com/api","/weapons/").concat(A));case 3:t=e.sent,N(t.weapon),z(t.weapon.attributes,t.weapon.points),D(Object(r.a)(Object(r.a)({},P.inputs),{},{name:{value:t.weapon.name,isValid:!0},description:{value:t.weapon.description,isValid:!0}}),!0),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[V,A,z,D]);var X=function(){U(!1)},q=function(){var t=Object(c.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,V("".concat("https://sc2-weapon-maker.herokuapp.com/api","/weapons/").concat(A),"PATCH",JSON.stringify({name:P.inputs.name.value,description:P.inputs.description.value,attributes:F.attributes,points:F.points}),{"Content-Type":"application/json",Authorization:"Bearer "+e.token});case 4:E.push("/".concat(e.userId,"/weapons")),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:U(!1);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();if(a&&!P.isValid)return Object(w.jsx)("div",{className:"center",children:Object(w.jsx)(j.a,{asDarkOverlay:!0,big:!0})});var Q,W=[],$=0,K=!1;for(var Y in m.a)++$>16&&(K=!0),W.push({id:$,name:Y,isSC:K});return"string"===typeof g||n||Object.keys(g).length>0&&(Q=Object(w.jsxs)(o.a.Fragment,{children:[Object(w.jsxs)("div",{className:"new-weapon__points",children:[F.points," /"," ",F.points>100?F.points:100]}),Object(w.jsx)("div",{className:"new-weapon",children:W.map((function(e){return e.isSC,Object(w.jsx)(O.a,{id:e.id,isSC:e.isSC,name:m.a[e.name].name,image:m.a[e.name].image,attributeValue:m.a[e.name].attributeValue[F.attributes[e.name]-1],attrValues:m.a[e.name].attributeValue,currentLevel:F.attributes[e.name],levels:m.a[e.name].levels,tooltip:m.a[e.name].tooltip,lvlPtsCost:m.a[e.name].lvlPtsCost,onClick:J,initialAttributes:F.attributes[e.name],initialPoints:F.points},"Attribute "+m.a[e.name].name)}))})]})),Object(w.jsxs)(o.a.Fragment,{children:[Object(w.jsx)(b.a,{error:n,onClear:k}),Object(w.jsxs)("form",{onSubmit:q,children:[Object(w.jsxs)(v.a,{show:M,onCancel:X,header:"Please enter your weapon informations.",footerClass:"weapon-item__modal-actions",footer:Object(w.jsxs)(o.a.Fragment,{children:[a&&Object(w.jsx)("div",{className:"center",children:Object(w.jsx)(j.a,{asDarkOverlay:!0})}),Object(w.jsx)(p.a,{type:"button",inverse:!0,onClick:X,children:"CANCEL"}),Object(w.jsx)(p.a,{onClick:q,disabled:!P.isValid,children:"UPDATE"})]}),children:[Object(w.jsx)(d.a,{id:"name",element:"input",type:"text",label:"Name",validators:[Object(f.d)()],errorText:"Please enter a valid weapon name.",onInput:_,initialValue:g.name,initialTouch:!0,initialValid:!0}),Object(w.jsx)(d.a,{id:"description",element:"textarea",label:"Description",validators:[Object(f.c)(5)],errorText:"Please enter a valid description (at least 5 characters).",onInput:_,initialValue:g.description,initialTouch:!0,initialValid:!0})]}),Object(w.jsx)(p.a,{type:"button",className:"new-weapon__create-btn",style:{left:"8rem"},onClick:function(){U(!0)},children:"Update Weapon"}),Object(w.jsx)(p.a,{to:"./",className:"new-weapon__create-btn",children:"Back"})]}),Q]})}}}]);
//# sourceMappingURL=9.458b874e.chunk.js.map